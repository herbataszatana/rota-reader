<!-- Only show the card if links have been uploaded -->
<mat-card class="mat-elevation-z4 section" *ngIf="hasUploaded">
  <div class="card-header-row">
    <mat-card-title>Employees</mat-card-title>
    <mat-form-field class="search-field" appearance="outline">
      <input matInput placeholder="Search by name" [formControl]="employeeSearchCtrl" />
    </mat-form-field>
  </div>

  <mat-divider></mat-divider>

  <mat-card-content>
    <!-- If there are any matching employees -->
    <ng-container *ngIf="hasEmployees; else noMatches">
      <div *ngFor="let link of filteredLinks" class="link-group">
        <p style="color: #006a6a">{{ link.link }}</p>
        <div class="employee-grid">
          <ng-container *ngIf="link.employees.length > 0; else empNotFound">
            <button mat-stroked-button color="primary" *ngFor="let emp of link.employees">
              {{ emp.name }}
            </button>
          </ng-container>
          <ng-template #empNotFound>
            <p>{{ searchTerm }} not found</p>
          </ng-template>
        </div>
      </div>
    </ng-container>

    <!-- Global no matches message -->
    <ng-template #noMatches>
      <p>{{ searchTerm }} not found</p>
    </ng-template>
  </mat-card-content>
</mat-card>
